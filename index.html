<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulaire Anglais - Révision</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1 id="mainTitle">Vocabulaire Anglais</h1>
        <button id="adminPanelBtn" style="display: none; margin-top: 10px;" class="reset-btn">Panneau Admin</button>
        <div id="chapterSelector" class="chapter-selector">
        </div>
        <div id="alertMessage" class="alert-message">
            <p id="alertText"></p>
        </div>
        <div class="mode-selector">
            <button id="flashcardModeBtn" class="active" title="Mode Cartes"><i class="fas fa-redo-alt"></i> Mode Cartes</button>
            <button id="quizModeBtn" title="Mode Quiz"><i class="fas fa-question-circle"></i> Mode Quiz</button>
            <button id="hangmanModeBtn" title="Mode Pendu"><i class="fas fa-user-slash"></i> Mode Pendu</button>
            <button id="scrambleModeBtn" title="Mode Réarrangement"><i class="fas fa-random"></i> Mots Mélangés</button>
            <button id="dictationModeBtn" title="Mode Dictée"><i class="fas fa-keyboard"></i> Mode Dictée</button>
            <button id="matchModeBtn" title="Mode Match"><i class="fas fa-link"></i> Mode Association</button>
            <button id="smartReviewModeBtn" title="Mode Révision Intelligente"><i class="fas fa-brain"></i> Révision Intelligente</button>
        </div>

        <div id="flashcardGameContainer" class="game-container active-mode" style="display: flex; opacity: 1;">
            <div class="card-container">
                <div id="flashcard" class="card">
                    <div id="front" class="card-face card-front">Sélectionnez un chapitre ci-dessus</div>
                    <div id="back" class="card-face card-back">Puis une section pour commencer à jouer.</div>
                </div>
            </div>
            <div class="controls"> 
                <span id="cardCounter"></span>
            </div>
            <div class="feedback-buttons" id="feedbackButtons">
                <button class="knew-it-btn" id="knewItBtn">Je l'avais</button>
                <button class="mastered-btn" id="masteredBtn">Mot totalement maîtrisé</button>
                <button class="didnt-know-it-btn" id="didntKnowBtn">Je ne l'avais pas</button>
            </div>
        </div>

        <div id="quizGameContainer" class="game-container">
            <div id="quizScore" class="quiz-score">Score: 0 / 0</div>
            <div id="quizQuestion" class="quiz-question"></div>
            <div id="quizOptions" class="quiz-options"></div>
        </div>

        <div id="hangmanGameContainer" class="game-container">
             <svg class="hangman-drawing" viewBox="0 0 200 200">
                <line x1="10" y1="190" x2="150" y2="190" stroke="#fff" stroke-width="4" />
                <line x1="40" y1="190" x2="40" y2="20" stroke="#fff" stroke-width="4" />
                <line x1="40" y1="20" x2="120" y2="20" stroke="#fff" stroke-width="4" />
                <line x1="120" y1="20" x2="120" y2="40" stroke="#fff" stroke-width="4" />

                <circle id="head" cx="120" cy="55" r="15" stroke="#fff" stroke-width="3" fill="none" style="display:none" />
                <line id="body" x1="120" y1="70" x2="120" y2="120" stroke="#fff" stroke-width="3" style="display:none" />
                <line id="arm1" x1="120" y1="80" x2="100" y2="100" stroke="#fff" stroke-width="3" style="display:none" />
                <line id="arm2" x1="120" y1="80" x2="140" y2="100" stroke="#fff" stroke-width="3" style="display:none" />
                <line id="leg1" x1="120" y1="120" x2="100" y2="150" stroke="#fff" stroke-width="3" style="display:none" />
                <line id="leg2" x1="120" y1="120" x2="140" y2="150" stroke="#fff" stroke-width="3" style="display:none" />
            </svg>
            <div id="hangmanWord" class="hangman-word"></div>
            <div id="hangmanLetters" class="hangman-letters"></div>
        </div>

        <div id="scrambleGameContainer" class="game-container">
            <div id="scrambleWord" class="quiz-question"></div>
            <div id="scrambleClue" class="scramble-clue"></div>
            <input type="text" id="scrambleInput" placeholder="Écris le mot ici..." autocomplete="off">
            <button id="scrambleCheckBtn">Vérifier</button>
            <div id="scrambleFeedback" class="scramble-feedback"></div>
            <button id="scrambleNextBtn" style="display:none;">Mot Suivant &rarr;</button>
        </div>

        <div id="dictationGameContainer" class="game-container">
            <div id="dictationClue" class="dictation-clue"></div>
            <input type="text" id="dictationInput" placeholder="Écris le mot exact ici..." autocomplete="off">
            <button id="dictationCheckBtn">Vérifier</button>
            <div id="dictationFeedback" class="dictation-feedback"></div>
            <button id="dictationNextBtn" style="display:none;">Mot Suivant &rarr;</button>
        </div>

        <div id="matchGameContainer" class="game-container">
            <div id="matchScore">Paires trouvées : 0 / 6</div>
            <div id="matchGrid">
                <div id="wordsColumn" class="match-column"></div>
                <div id="definitionsColumn" class="match-column"></div>
            </div>
            <button id="matchNextBtn" style="display:none; margin-top: 30px;">Prochain Match &rarr;</button>
        </div>

        <div id="smartReviewGameContainer" class="game-container">
            <div class="card-container">
                <div id="smartReviewFlashcard" class="card">
                    <div id="smartReviewFront" class="card-face card-front">Sélectionnez un chapitre ci-dessus</div>
                    <div id="smartReviewBack" class="card-face card-back">Puis une section pour commencer la révision intelligente.</div>
                </div>
            </div>
            <div class="controls"> 
                <span id="smartReviewCardCounter"></span>
            </div>
            <div class="feedback-buttons" id="smartReviewFeedbackButtons">
                <button class="knew-it-btn" id="smartReviewKnewItBtn">Je l'avais</button>
                <button class="mastered-btn" id="smartReviewMasteredBtn">Mot totalement maîtrisé</button>
                <button class="didnt-know-it-btn" id="smartReviewDidntKnowBtn">Je ne l'avais pas</button>
            </div>
        </div>

        <details id="masteredWordsSection">
            <summary>Gérer les mots maîtrisés</summary>
            <div class="list-content">
                <ul id="masteredWordsList" class="vocabulary-list"></ul>
                <button id="resetMasteredBtn" class="reset-btn">Tout Réinitialiser</button>
            </div>
        </details>


        <details>
            <summary>Statistiques de Progression</summary>
            <div class="list-content">
                <p>Mots Totaux : <span id="totalWordsCount">0</span></p>
                <p>Mots Maîtrisés : <span id="masteredWordsCount">0</span></p>
                <p>Progression : <span id="progressPercentage">0%</span></p>
            </div>
        </details>

        <details>
            <summary id="listTitle">Liste Complète</summary>
            <div class="list-content">
                <ul class="vocabulary-list"></ul>
            </div>
        </details>

        <details>
            <summary>Comment Utiliser</summary>
            <div class="instructions-content">
                <p>
                    - **Sélecteur de Chapitre** : Choisis la catégorie de vocabulaire à réviser en haut de la page.
                    - **Mode Cartes** : Clique sur la carte pour voir la définition, puis dis si tu l'avais ou non. Les mots non connus reviendront plus souvent.
                    - **Mode Quiz** : Lis le mot ou la définition et choisis la bonne réponse.
                    - **Mode Pendu** : Devine le mot en cliquant sur les lettres.
                    - **Mots Mélangés** : Un mot est mélangé, retrouve le mot original avec l'aide de sa définition.
                    - **Mode Dictée** : Écris le mot exact correspondant à la définition. (Attention aux accents et à l'orthographe exacte).
                    - **Mode Association** : Associe les mots à leur définition en cliquant sur une paire.
                </p>
            </div>
        </details>
    </div>

    <div id="categoryModal" class="modal">
        <div class="modal-content">
            <h3 id="modalTitle"></h3>
            <div id="modalButtons" class="modal-buttons">
            </div>
        </div>
    </div>

    <div id="adminPanelModal" class="modal">
        <div class="modal-content">
            <h3>Panneau d'Administration</h3>
            <textarea id="vocabDataEditor" rows="20" style="width: 100%; margin-bottom: 15px; background-color: #333; color: #eee; border: 1px solid #555; padding: 10px; font-family: monospace;"></textarea>
            <div class="modal-buttons">
                <button id="saveVocabDataBtn">Sauvegarder Vocabulaire</button>
                <input type="file" id="importVocabFile" accept=".js" style="display: none;">
                <button id="importVocabBtn">Importer Vocabulaire</button>
                <button id="exportVocabBtn">Exporter Vocabulaire</button>
                <button id="revealAnswerBtn">Révéler la réponse</button>
                <button id="closeAdminPanelBtn" class="didnt-know-it-btn">Fermer</button>
            </div>
        </div>
    </div>

    <script src="vocab_data.js"></script>
    <script src="app.js"></script>

    <div id="cheatPanel" class="draggable-panel" style="display: none;">
        <div class="panel-header">
            <span>Option de Triche</span>
            <button id="closeCheatPanelBtn" class="close-btn">❌</button>
        </div>
        <div class="panel-content">
            <button id="revealAnswerCheatBtn" class="reset-btn">Révéler la réponse</button>
        </div>
    </div>
</body>
</html>